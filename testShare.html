testshare0
<script>
function getQueryStr(name){
var res = location.search.match(new RegExp("[\?\&]" + name+ "=([^\&]+)","i"));

if (res == null || res.length <= 1) return "";

return res[1];
}
var title,
desc;
var title = {
en: 'WeChat for iPad', 
zh_CN: 'iPad 微信',
zh_TW: 'WeChat iPad版'
}
var desc = {
en: 'Keep in touch while you read and play.', 
zh_CN: '换个方式，聊天新体验',
zh_TW: '畫面更豐富，不會錯過好友動態'
}
var lang = getQueryStr('lang')
if(!lang) lang = 'zh_CN'
title_share = title[lang],
desc_share = desc [lang];


function onBridgeReady(){
WeixinJSBridge.call("hideToolbar");
WeixinJSBridge.on('menu:share:appmessage' , function(argv){
WeixinJSBridge.invoke('sendAppMessage',{
"img_url": "http://mmbiz.qpic.cn/mmbiz/icTdbqWNOwNRzNyksbtsXmn9n8yiaY6OfLAXC7AVWicYSguc47ibOicWfRDkf2j3eZ5msoKw9Yx2aeuicazn0leAtI8w/0",
"img_width": "108",
"img_height": "108",
"link": location.href,
"desc": desc_share,
"title": title_share
},function(res){})
});
WeixinJSBridge.on('menu:share:timeline',function(argv){
WeixinJSBridge.invoke('shareTimeline',{
"img_url": "http://mmbiz.qpic.cn/mmbiz/icTdbqWNOwNRzNyksbtsXmn9n8yiaY6OfLAXC7AVWicYSguc47ibOicWfRDkf2j3eZ5msoKw9Yx2aeuicazn0leAtI8w/0",
"img_width": "108",
"img_height": "108",
"link": location.href,
"desc": desc_share,
"title": title_share
},function(res){});
});
WeixinJSBridge.on('menu:share:weibo',function(argv){
WeixinJSBridge.invoke('shareWeibo',{
"img_url": "http://mmbiz.qpic.cn/mmbiz/icTdbqWNOwNRzNyksbtsXmn9n8yiaY6OfLAXC7AVWicYSguc47ibOicWfRDkf2j3eZ5msoKw9Yx2aeuicazn0leAtI8w/0",
"img_width": "108",
"img_height": "108",
"link": location.href,
"desc": desc_share,
"title": title_share
},function(res){});
});
}
if (document.addEventListener) {
document.addEventListener('WeixinJSBridgeReady', onBridgeReady, false);
} else if (document.attachEvent) {
document.attachEvent('onWeixinJSBridgeReady', onBridgeReady);
}

</script>
