testshare
<script>
 var share_title = '2015年1月华语电影PK进口大片，你最想看哪一部？';
        var share_desc 	= "好莱坞巨作“羊”气开场，猫眼电影贺岁新片大盘点！";
        var share_img	= "http://p1.meituan.net/mmc/40fd90a85be8279301669b5cd081a9a788337.jpg";
        var share_link	= window.location.href;
        //朋友圈操作
        function toWexinFriends() {
            WeixinJSBridge.invoke('shareTimeline', {
                "link": share_link,
                "img_url": share_img,
                "desc": share_desc,
                "title": share_title
            }, function (res) {
                // 返回res.err_msg,取值
                // share_timeline:cancel 用户取消
                // share_timeline:fail　发送失败
                // share_timeline:confirm 发送成功
                //if(res.err_msg == 'share_timeline:confirm'){
                //转发成功
                //};
            });
        }
        //分享给朋友
        function shareFriend() {
            WeixinJSBridge.invoke('sendAppMessage', {
                "link": share_link,
                "img_url": share_img,
                "desc": share_desc,
                "title": share_title
            }, function (res) {
                // 返回res.err_msg,取值
                // share_timeline:cancel 用户取消
                // share_timeline:fail　发送失败
                // share_timeline:confirm 发送成功
                //if(res.err_msg == 'share_timeline:confirm'){
                //转发成功
                //};
            })
        }
        // 当微信内置浏览器完成内部初始化后会触发WeixinJSBridgeReady事件。
        document.addEventListener('WeixinJSBridgeReady', function onBridgeReady() {
            // 发送给好友
            WeixinJSBridge.on('menu:share:appmessage', function (argv) {
                shareFriend();
            });
            // 分享到朋友圈
            WeixinJSBridge.on('menu:share:timeline', function (argv) {
                toWexinFriends();
            });
        }, false)
</script>
